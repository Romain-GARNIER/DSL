// Code generated by ArduinoML
// Structural concepts
void setup() {
	pinMode(4, OUTPUT);
	pinMode(1, INPUT);
}

//Behavioral concepts
long time=0; long debounce = 300;

void state_off() {
	analogWrite(4, 0);
	boolean guard = millis() - time > debounce;
	if ((analogRead(1) > 200) && guard ) {
		time = millis();
		state_on();
	}
	else { state_off(); }
}

void state_on() {
	analogWrite(4, 100);
	boolean guard = millis() - time > debounce;
	if ((analogRead(1) > 400) && guard ) {
		time = millis();
		state_on2();
	}
	if ((analogRead(1) < 200) && guard ) {
		time = millis();
		state_off();
	}
	else { state_on(); }
}

void state_on2() {
	analogWrite(4, 255);
	boolean guard = millis() - time > debounce;
	if ((analogRead(1) < 400) && guard ) {
		time = millis();
		state_on();
	}
	else { state_on2(); }
}

void loop() {state_off();} // Entering init state